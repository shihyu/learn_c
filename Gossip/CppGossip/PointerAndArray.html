<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- Mirrored from openhome.cc/Gossip/CppGossip/PointerAndArray.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:08:08 GMT -->
<head>







  
  
  
  
  <link rel="stylesheet" href="css/stdlayout.css" type="text/css">





  
  
  
  
  <link rel="stylesheet" href="css/print.css" type="text/css">





  
  
  
  
  <meta content="text/html; charset=Big5" http-equiv="content-type"><title>指標與陣列</title></head><body>





<h3><a href="../index.html">From
Gossip@Openhome</a></h3>





<h1><a href="file:///D:/Documents/WikiPackage/Gossip/CppGossip/http://openhome.cc/Gossip/CppGossip">C++
Gossip:&nbsp;指標與陣列</a></h1>





<table style="text-align: left; width: 946px; height: 32px;" border="0" cellpadding="0" cellspacing="0">





  <tbody>





    <tr>





      <td style="width: 676px; vertical-align: top;"> <small>
在宣告一個陣列之後，陣列名稱用來參考至陣列的第一個元素的記憶體位址，例如在下面的程式中將指出，陣列arr與&amp;arr[0]所指向的
位置是相同的： </small><br>





      <br>





      
      
      
      
      <pre>#include &lt;iostream&gt; <br>using namespace std; <br><br>int main() { <br>    int arr[10] = {0}; <br>    cout &lt;&lt; "arr :\t\t" &lt;&lt; arr <br>         &lt;&lt; endl; <br>    cout &lt;&lt; "&amp;arr[0]: \t" &lt;&lt; &amp;arr[0] <br>         &lt;&lt; endl; <br><br>    return 0; <br>}</pre>





      <br>





      <small><span class="postbody">
執行結果：</span></small><br>





      
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">





        <tbody>





          <tr>





            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">arr
:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;0x22ff40<br>





&amp;arr[0]:&nbsp;&nbsp;&nbsp;&nbsp; 0x22ff40</span></small><span style="color: rgb(255, 255, 255);"><br>





            </span></td>





          </tr>





        
        
        
        
        </tbody>
      
      
      
      
      </table>





      <small><br>


      </small><small>
之前也曾經討論過，陣列的索引其實是相對於第一個記憶體位址的位移量，下面這個程式以指標運算與陣列索引操作，顯示出相同的對應位址值：</small><br>



      <br>





      
      
      
      
      <pre>#include &lt;iostream&gt; <br>using namespace std; <br><br>int main() {<br>    const int length = 10;<br>    int arr[length] = {0}; <br>    int *ptr = arr; <br><br>    for(int i = 0; i &lt; length; i++) { <br>        cout &lt;&lt; "&amp;arr[" &lt;&lt; i &lt;&lt; "]: " &lt;&lt; &amp;arr[i]; <br>        cout &lt;&lt; "\tptr+" &lt;&lt; i &lt;&lt; ": " &lt;&lt; ptr+i; <br>        cout &lt;&lt; endl; <br>    } <br> <br>    return 0; <br>}</pre>





      <span class="postbody"><br>




      <small>
執行結果：</small></span><br>





      
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">





        <tbody>





          <tr>





            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">&amp;arr[0]:
0x22ff30&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ptr+0: 0x22ff30<br>





&amp;arr[1]:
0x22ff34&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ptr+1:
0x22ff34<br>





&amp;arr[2]:
0x22ff38&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ptr+2:
0x22ff38<br>





&amp;arr[3]:
0x22ff3c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ptr+3:
0x22ff3c<br>





&amp;arr[4]:
0x22ff40&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ptr+4:
0x22ff40<br>





&amp;arr[5]:
0x22ff44&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ptr+5:
0x22ff44<br>





&amp;arr[6]:
0x22ff48&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ptr+6:
0x22ff48<br>





&amp;arr[7]:
0x22ff4c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ptr+7:
0x22ff4c<br>





&amp;arr[8]:
0x22ff50&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ptr+8:
0x22ff50<br>





&amp;arr[9]:
0x22ff54&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ptr+9:
0x22ff54</span></small><span style="color: rgb(255, 255, 255);"><br>





            </span></td>





          </tr>





        
        
        
        
        </tbody>
      
      
      
      
      </table>





      <br>




      <small>
在這個程式中，您將陣列的第一個元素位址指定給ptr，然後對ptr作遞增運算，每遞增一個單位，其與陣列相對應索引的元素之記憶體位址都相同，這可以說
明陣列索引的背後意義。 <br>




      <br>





您也可以利用指標運算來取出陣列的元素值，如以下的程式所示： </small>
      <br>





      <br>





      
      
      
      
      <pre>#include &lt;iostream&gt; <br>using namespace std; <br><br>int main() {<br>    const int length = 5;<br>    int arr[length] = {10, 20, 30, 40, 50}; <br>    int *ptr = arr; <br><br>    // 以指標方式存取資料 <br>    for(int i = 0; i &lt; length; i++) {<br>        cout &lt;&lt; "*(ptr+" &lt;&lt; i &lt;&lt; "): " &lt;&lt; *(ptr+i)<br>             &lt;&lt; endl;<br>    }<br>    cout &lt;&lt; endl;<br><br>    // 以陣列方式存取資料 <br>    for(int i = 0; i &lt; length; i++) {<br>        cout &lt;&lt; "ptr[" &lt;&lt; i &lt;&lt; "]: " &lt;&lt; ptr[i]<br>             &lt;&lt; endl;<br>    }<br>    cout &lt;&lt; endl;<br><br>    // 以指標方式存取資料 <br>    for(int i = 0; i &lt; length; i++) {<br>        cout &lt;&lt; "*(arr+" &lt;&lt; i &lt;&lt; "): " &lt;&lt; *(arr+i)<br>             &lt;&lt; endl;<br>    }<br>    cout &lt;&lt; endl;<br> <br>    // 以陣列方式存取資料 <br>    for(int i = 0; i &lt; length; i++) {<br>        cout &lt;&lt; "arr[" &lt;&lt; i &lt;&lt; "]: " &lt;&lt; arr[i]<br>             &lt;&lt; endl;<br>    }<br>    cout &lt;&lt; endl;<br> <br>    return 0; <br>}<br></pre>





      <span class="postbody"><br>




      <small>
執行結果：</small></span><br>





      
      
      
      
      <table style="text-align: left; width: 100%;" border="0" cellpadding="2" cellspacing="2">





        <tbody>





          <tr>





            <td style="background-color: rgb(0, 0, 0);"><small><span style="color: rgb(255, 255, 255);">*(ptr+0): 10<br>





*(ptr+1): 20<br>





*(ptr+2): 30<br>





*(ptr+3): 40<br>





*(ptr+4): 50<br>





            <br>





ptr[0]: 10<br>





ptr[1]: 20<br>





ptr[2]: 30<br>





ptr[3]: 40<br>





ptr[4]: 50<br>





            <br>





*(arr+0): 10<br>





*(arr+1): 20<br>





*(arr+2): 30<br>





*(arr+3): 40<br>





*(arr+4): 50<br>





            <br>





arr[0]: 10<br>





arr[1]: 20<br>





arr[2]: 30<br>





arr[3]: 40<br>





arr[4]: 50</span></small><span style="color: rgb(255, 255, 255);"><br>





            </span></td>





          </tr>





        
        
        
        
        </tbody>
      
      
      
      
      </table>





      <br>




      <small>
在上面的程式中，您可以使用指標運算配合*運算子來取出陣列中的每個元素，也可以配合下標運算子來取出陣列元素。 </small><br>




 </td>





      <td style="width: 250px; text-align: center; vertical-align: top;"><comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>&nbsp;
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>

      <comment title=" adsense for content" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment>
      <script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->&#160;</script>&nbsp;
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js"></script><comment title=" adsense for content end" xmlns="http://disruptive-innovations.com/zoo/nvu"></comment><br>

      <br><script type="text/javascript"><!--
google_ad_client = "pub-9750319131714390";
google_ad_width = 160;
google_ad_height = 600;
google_ad_format = "160x600_as";
google_ad_type = "text_image";
google_ad_channel = "";
//-->
      </script>
      <script type="text/javascript" src="../../../pagead2.googlesyndication.com/pagead/show_ads.js">
      </script><br>

      <br>
      <center>
       <br>

      </center>

 </td>





    </tr>





  
  
  
  
  </tbody>
</table>





<br>




<script src="../../../www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-143766-1";
urchinTracker();
</script>
</body>
<!-- Mirrored from openhome.cc/Gossip/CppGossip/PointerAndArray.html by HTTrack Website Copier/3.x [XR&CO'2008], Sun, 28 Jul 2013 09:08:08 GMT -->
</html>